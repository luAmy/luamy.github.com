import{k as I,a as k,f as B,g as z,h as x,j as S,b as $,w as U}from"./_element-plus-22095640.js";import{_ as A}from"./plus-fbf0de5b.js";import{Z as O}from"./__vendor-d29dd9de.js";/* empty css                                                               */import{_ as N}from"./plugin-vue_export-helper-46f75680.js";import{g as y,r as E,w as j,o as T,T as J,U as s,a as _,_ as n,Y as V,t as M,c as Z,F as q,Z as L}from"./_@vue-8661df55.js";import"./_@element-plus-205714a8.js";const P={class:"dialog-footer"},R={__name:"groupDialog",props:{viewForm:{type:Object},winShow:{type:Boolean,default:!1},editType:{type:String,default:"add"}},emits:["close","confirm"],setup(b,{emit:e}){const l=b,p=y(!1),i=E({addForm:{coachCode:"",coachName:"",fileUrl:"",unityId:""}}),f=y(null);j(()=>l.winShow,m=>{var t;p.value=m,i.addForm=JSON.parse(JSON.stringify(l.viewForm)),m&&((t=f.value)==null||t.resetFields())});function g(){f.value.validate(m=>{m&&(l.editType==="add"?insertCoach(i.addForm).then(t=>{k.success("\u65B0\u589E\u6210\u529F"),h()}):updateCoach(i.addForm).then(t=>{k.success("\u7F16\u8F91\u6210\u529F"),h()}))})}function v(){p.value=!1,e("close")}function h(){p.value=!1,e("confirm")}return(m,t)=>{const o=B,a=z,r=x,d=S,c=I;return T(),J(c,{modelValue:p.value,"onUpdate:modelValue":t[1]||(t[1]=u=>p.value=u),"before-close":v},{footer:s(()=>[_("span",P,[n(d,{type:"primary",onClick:g},{default:s(()=>[V("\u786E\u8BA4")]),_:1})])]),default:s(()=>[n(r,{class:"place-info",size:"large","label-width":"120px","label-align":"right",model:i.addForm,ref_key:"form",ref:f},{default:s(()=>[n(a,{label:"\u90E8\u95E8\u540D\u79F0:",prop:"coachName",rules:[{required:!0,message:"\u8BF7\u8F93\u5165",trigger:"blur"}]},{default:s(()=>[n(o,{modelValue:i.addForm.coachName,"onUpdate:modelValue":t[0]||(t[0]=u=>i.addForm.coachName=u)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}};var Y=N(R,[["__scopeId","data-v-9c6f15f8"]]);const G={style:{"margin-bottom":"10px"}},H={class:"custom-tree-node"},K={style:{width:"10em"}},Q={class:"opts"},W=["onClick"],X=["onClick"],ee=["onClick"],oe={__name:"group",setup(b){O();const e=E({tableData:[{name:"\u4E00\u7EA7\u90E8\u95E8"}],viewForm:{},searchForm:{userCode:"",nickName:""},total:0,page:{pageSize:10,pageNum:1}});M(()=>{});const l=y([{id:1,label:"\u4E00\u7EA7\u90E8\u95E8",children:[{id:4,label:"\u4E8C\u7EA7\u90E8\u95E81",children:[{id:9,label:"\u4E09\u7EA7\u90E8\u95E81"},{id:10,label:"\u4E09\u7EA7\u90E8\u95E82"}]}]},{id:1,label:"\u4E00\u7EA7\u90E8\u95E82",children:[{id:4,label:"\u4E8C\u7EA7\u90E8\u95E81",children:[{id:9,label:"\u4E09\u7EA7\u90E8\u95E81"},{id:10,label:"\u4E09\u7EA7\u90E8\u95E82"}]}]}]);let p=1e3;const i=o=>{const a={id:p++,label:"\u65B0\u90E8\u95E8",children:[]};o.children||(o.children=[]),o.children.push(a),l.value=[...l.value]},f=(o,a)=>{const r=o.parent,d=r.data.children||r.data,c=d.findIndex(u=>u.id===a.id);d.splice(c,1),l.value=[...l.value]};function g(){const{pageSize:o,pageNum:a}=e.page,{userCode:r,nickName:d}=e.searchForm;ownAssetsList({pageSize:o,pageNum:a,userCode:r,nickName:d}).then(c=>{e.tableData=c.data.list,e.total=c.data.total})}function v(){g(),h()}function h(){e.winShow=!1}function m(o){const a="edit";o.operation=a,e.viewForm=o,e.editType=a,e.winShow=!0}function t(){e.viewForm={},e.editType="add",e.winShow=!0}return(o,a)=>{const r=A,d=$,c=S,u=x,D=U;return T(),Z(q,null,[n(u,{class:"searchForm",size:"large",inline:!0,model:e.searchForm},{default:s(()=>[_("div",G,[n(c,{type:"primary",size:"default",onClick:t},{default:s(()=>[n(d,null,{default:s(()=>[n(r)]),_:1}),V(" \u6DFB\u52A0")]),_:1})])]),_:1},8,["model"]),n(D,{class:"border",data:l.value,"node-key":"id","default-expand-all":"","expand-on-click-node":!1},{default:s(({node:F,data:w})=>[_("span",H,[_("span",K,L(F.label),1),_("span",Q,[_("a",{onClick:C=>i(w)}," \u589E\u52A0 ",8,W),_("a",{style:{"margin-left":"8px"},onClick:C=>m(w)}," \u7F16\u8F91 ",8,X),_("a",{style:{"margin-left":"8px"},onClick:C=>f(F,w)}," \u5220\u9664 ",8,ee)])])]),_:1},8,["data"]),n(Y,{editType:e.editType,viewForm:e.viewForm,winShow:e.winShow,onConfirm:v,onClose:h},null,8,["editType","viewForm","winShow"])],64)}}};var de=N(oe,[["__scopeId","data-v-7fb98d46"]]);export{de as default};
