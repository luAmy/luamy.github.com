import{z as y,H as c,J as V,r as p,o as x,c as w,b as g,a,M as t,w as d,N as _,O as k,Q as i}from"./vendor.69fdf0c7.js";import{_ as N}from"./index.0eae5c59.js";const T={class:"bind-wrap"},z={class:"bind-panel"},B=_("\u4FEE\u6539"),I={setup(U){const m=y();let s=c(!1),r=c("\u53D1\u9001\u9A8C\u8BC1\u7801"),e=V({phone:"",password:"",phoneCode:""});function f(){e.phoneCode.length>4&&(e.phoneCode=e.phoneCode.slice(0,4))}function v(){if(!e.phone){i.fail("\u8BF7\u8F93\u5165\u624B\u673A\u53F7");return}s.value||verificationCode({phone:e.phone}).then(b=>{let o=60;i.success("\u5DF2\u53D1\u9001\u9A8C\u8BC1\u7801"),s.value=!0;let n=setInterval(()=>{if(!o){r.value="\u53D1\u9001\u9A8C\u8BC1\u7801",s.value=!1,clearInterval(n);return}r.value=`\u91CD\u65B0\u53D1\u9001(${--o}s)`},1e3)})}function h(){i.success("\u4FEE\u6539\u6210\u529F"),setTimeout(()=>{m.replace("/bind")},1e3)}return(b,o)=>{const n=p("van-field"),u=p("van-button"),C=p("van-col");return x(),w("div",T,[g("div",z,[a(n,{modelValue:t(e).phone,"onUpdate:modelValue":o[0]||(o[0]=l=>t(e).phone=l),type:"tel",label:"\u624B\u673A\u53F7",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7"},null,8,["modelValue"]),a(n,{modelValue:t(e).password,"onUpdate:modelValue":o[1]||(o[1]=l=>t(e).password=l),type:"password",label:"\u65B0\u5BC6\u7801",placeholder:"\u8BF7\u8F93\u5165\u65B0\u5BC6\u7801"},null,8,["modelValue"]),a(n,{maxlength:"4",modelValue:t(e).phoneCode,"onUpdate:modelValue":o[2]||(o[2]=l=>t(e).phoneCode=l),onChange:f,center:"",clearable:"",label:"\u77ED\u4FE1\u9A8C\u8BC1\u7801",placeholder:"\u8BF7\u8F93\u5165\u77ED\u4FE1\u9A8C\u8BC1\u7801"},{button:d(()=>[a(u,{size:"small",type:"primary",onClick:v,round:"",disabled:t(s)},{default:d(()=>[_(k(t(r)),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue"]),a(C,{style:{"margin-top":"20px"},offset:"1",span:22},{default:d(()=>[a(u,{onClick:h,class:"button",style:{width:"100%"},round:"",type:"primary",size:"normal"},{default:d(()=>[B]),_:1})]),_:1})])])}}};var H=N(I,[["__scopeId","data-v-bcd3e0f6"]]);export{H as default};
